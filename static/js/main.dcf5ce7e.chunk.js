(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),a=n.n(r),o=n(7),i=n.n(o),s=(n(14),n(15),n(1)),j=n(6),u=n.n(j),l=n(8),b=n(4),d=n(3),O=function(e,t){if("FETCH_DATA"===t.type){var n=t.payload.map((function(e){var t=[e.correct_answer];return{question:e.question,allAnswers:t.concat(e.incorrect_answers).sort((function(){return Math.random()-.5})),correct_answer:e.correct_answer}}));return Object(s.a)(Object(s.a)({},e),{},{answers:n})}if("ANSWER_CLICKED"===t.type)return e.answers[e.startingPoint].allAnswers.find((function(e){if(t.payload===e)return e}))===e.answers[e.startingPoint].correct_answer?Object(s.a)(Object(s.a)({},e),{},{startingPoint:e.startingPoint+1,correct:e.correct+1}):Object(s.a)(Object(s.a)({},e),{},{startingPoint:e.startingPoint+1,incorrect:e.incorrect+1});if("FORM_COMPLETED"===t.type)return Object(s.a)(Object(s.a)({},e),{},{formCompleted:!0});if("CHANGES"===t.type){var c=t.payload.target.name,r=t.payload.target.value;return Object(s.a)(Object(s.a)({},e),{},Object(d.a)({},c,r))}return e},p=a.a.createContext(),h={answers:[],startingPoint:0,correct:0,incorrect:0,amount:10,category:21,formCompleted:!1},x=function(e){var t=e.children,n=Object(r.useReducer)(O,h),a=Object(b.a)(n,2),o=a[0],i=a[1],j=Object(r.useState)([]),d=Object(b.a)(j,2),x=d[0],f=d[1],m=Object(r.useState)(!0),v=Object(b.a)(m,2),y=v[0],g=v[1];Object(r.useEffect)((function(){i({type:"FETCH_DATA",payload:x})}),[x]);var C=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://opentdb.com/api.php?","amount=").concat(o.amount,"&category=").concat(o.category));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,f(n.results),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C()}),[o.amount,o.category]),Object(c.jsx)(p.Provider,{value:Object(s.a)(Object(s.a)({},o),{},{data:x,loading:y,handleClick:function(e){i({type:"ANSWER_CLICKED",payload:e.target.innerHTML})},setForm:function(e){e.preventDefault(),i({type:"FORM_COMPLETED",payload:e})},handleChanges:function(e){i({type:"CHANGES",payload:e})}}),children:t})},f=function(){var e=Object(r.useContext)(p),t=e.loading,n=e.startingPoint,a=e.answers,o=e.handleClick,i=e.incorrect,s=e.correct,j=e.amount,u=e.category,l=e.handleChanges,b=e.setForm,d=e.formCompleted;return t?Object(c.jsx)("h1",{style:{color:"white",marginTop:"180px"},children:"Loading..."}):!1===d?Object(c.jsxs)("div",{className:"quiz-setup",children:[Object(c.jsx)("h2",{children:"Quiz Setup"}),Object(c.jsxs)("form",{onSubmit:function(e){return b(e)},children:[Object(c.jsx)("label",{htmlFor:"category",children:"Choose category"}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"category",id:"category",value:u,onChange:function(e){return l(e)},children:[Object(c.jsx)("option",{value:9,children:"Any"}),Object(c.jsx)("option",{value:24,children:"General Knowledge"}),Object(c.jsx)("option",{value:12,children:"Film"}),Object(c.jsx)("option",{value:13,children:"Music"}),Object(c.jsx)("option",{value:14,children:"Television"}),Object(c.jsx)("option",{value:15,children:"Video Games"}),Object(c.jsx)("option",{value:17,children:"Science and Nature"}),Object(c.jsx)("option",{value:21,children:"Sports"}),Object(c.jsx)("option",{value:22,children:"Geography"}),Object(c.jsx)("option",{value:23,children:"History"}),Object(c.jsx)("option",{value:24,children:"Politics"}),Object(c.jsx)("option",{value:25,children:"Art"}),Object(c.jsx)("option",{value:29,children:"Comics"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"amount",children:"Number of questions"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"number",name:"amount",value:j,min:"1",max:"30",required:!0,onChange:function(e){return l(e)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Start Quiz"})]})]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"quiz",children:[Object(c.jsxs)("p",{children:["Correct : ",s]}),Object(c.jsx)("br",{}),Object(c.jsxs)("p",{children:["Incorrect : ",i]}),n<j?a.map((function(e,t){if(n===t)return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:e.question}),Object(c.jsx)("ul",{children:e.allAnswers.map((function(e,t){return Object(c.jsx)("li",{onClick:function(e){return o(e)},children:e},t)}))})]},t)})):Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return window.location.reload()},children:"play again"})})]})})};var m=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(f,{})})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(x,{children:Object(c.jsx)(m,{})})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.dcf5ce7e.chunk.js.map