{"version":3,"sources":["components/reducer.js","components/context.js","questions/questions.js","App.js","index.js"],"names":["reducer","state","action","type","correctIncorrect","payload","map","item","correct","correct_answer","question","allAnswers","concat","incorrect_answers","sort","Math","random","answers","startingPoint","find","incorrect","formCompleted","name","target","value","AppContext","React","createContext","INITIAL","amount","category","ContextBody","children","useReducer","items","dispatch","useState","data","setData","loading","setLoading","useEffect","fetchData","a","fetch","response","json","newData","results","Provider","handleClick","e","innerHTML","setForm","preventDefault","handleChanges","Questions","useContext","style","color","marginTop","className","onSubmit","htmlFor","id","onChange","min","max","required","index","onClick","window","location","reload","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dcf5ce7e.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === \"FETCH_DATA\") {\r\n    let correctIncorrect = action.payload.map((item) => {\r\n      let correct = [item.correct_answer];\r\n      const arr = {\r\n        question: item.question,\r\n        allAnswers: correct\r\n          .concat(item.incorrect_answers)\r\n          .sort(() => Math.random() - 0.5),\r\n        correct_answer: item.correct_answer,\r\n      };\r\n\r\n      return arr;\r\n    });\r\n\r\n    return { ...state, answers: correctIncorrect };\r\n  }\r\n  if (action.type === \"ANSWER_CLICKED\") {\r\n    let all = state.answers[state.startingPoint].allAnswers.find((item) => {\r\n      if (action.payload === item) {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    let correctAnswer = state.answers[state.startingPoint].correct_answer;\r\n\r\n    if (all === correctAnswer) {\r\n      return {\r\n        ...state,\r\n        startingPoint: state.startingPoint + 1,\r\n        correct: state.correct + 1,\r\n      };\r\n    } else {\r\n      return {\r\n        ...state,\r\n        startingPoint: state.startingPoint + 1,\r\n        incorrect: state.incorrect + 1,\r\n      };\r\n    }\r\n  }\r\n  if (action.type === \"FORM_COMPLETED\") {\r\n    return { ...state, formCompleted: true };\r\n  }\r\n  if (action.type === \"CHANGES\") {\r\n    const name = action.payload.target.name;\r\n    const value = action.payload.target.value;\r\n    return { ...state, [name]: value };\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n","import React, { useContext, useReducer, useEffect, useState } from \"react\";\r\n\r\nimport reducer from \"../components/reducer\";\r\n\r\nconst AppContext = React.createContext();\r\nconst INITIAL = {\r\n  answers: [],\r\n  startingPoint: 0,\r\n  correct: 0,\r\n  incorrect: 0,\r\n  amount: 10,\r\n  category: 21,\r\n  formCompleted: false,\r\n};\r\nconst URL = \"https://opentdb.com/api.php?\";\r\n\r\nconst ContextBody = ({ children }) => {\r\n  const [items, dispatch] = useReducer(reducer, INITIAL);\r\n\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const setForm = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"FORM_COMPLETED\", payload: e });\r\n  };\r\n  const handleChanges = (e) => {\r\n    dispatch({ type: \"CHANGES\", payload: e });\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    dispatch({ type: \"ANSWER_CLICKED\", payload: e.target.innerHTML });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"FETCH_DATA\", payload: data });\r\n  }, [data]);\r\n\r\n  const fetchData = async () => {\r\n    const response = await fetch(\r\n      `${URL}amount=${items.amount}&category=${items.category}`\r\n    );\r\n    const newData = await response.json();\r\n    setData(newData.results);\r\n    setLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [items.amount, items.category]);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{ ...items, data, loading, handleClick, setForm, handleChanges }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { ContextBody, AppContext };\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../components/context\";\r\n\r\nconst Questions = () => {\r\n  const {\r\n    loading,\r\n    startingPoint,\r\n    answers,\r\n    handleClick,\r\n    incorrect,\r\n    correct,\r\n    amount,\r\n    category,\r\n    handleChanges,\r\n    setForm,\r\n    formCompleted,\r\n  } = useGlobalContext();\r\n\r\n  if (loading) {\r\n    return <h1 style={{ color: \"white\", marginTop: \"180px\" }}>Loading...</h1>;\r\n  }\r\n  if (formCompleted === false) {\r\n    return (\r\n      <div className=\"quiz-setup\">\r\n        <h2>Quiz Setup</h2>\r\n        <form onSubmit={(e) => setForm(e)}>\r\n          <label htmlFor=\"category\">Choose category</label>\r\n          <br />\r\n          <select\r\n            name=\"category\"\r\n            id=\"category\"\r\n            value={category}\r\n            onChange={(e) => handleChanges(e)}\r\n          >\r\n            <option value={9}>Any</option>\r\n            <option value={24}>General Knowledge</option>\r\n            <option value={12}>Film</option>\r\n            <option value={13}>Music</option>\r\n            <option value={14}>Television</option>\r\n            <option value={15}>Video Games</option>\r\n            <option value={17}>Science and Nature</option>\r\n            <option value={21}>Sports</option>\r\n            <option value={22}>Geography</option>\r\n            <option value={23}>History</option>\r\n            <option value={24}>Politics</option>\r\n            <option value={25}>Art</option>\r\n            <option value={29}>Comics</option>\r\n          </select>\r\n          <br />\r\n          <label htmlFor=\"amount\">Number of questions</label>\r\n          <br />\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            value={amount}\r\n            min=\"1\"\r\n            max=\"30\"\r\n            required\r\n            onChange={(e) => handleChanges(e)}\r\n          />\r\n          <br />\r\n          <br />\r\n          <button type=\"submit\">Start Quiz</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"quiz\">\r\n        <p>Correct : {correct}</p>\r\n        <br />\r\n        <p>Incorrect : {incorrect}</p>\r\n        {startingPoint < amount ? (\r\n          answers.map((item, index) => {\r\n            if (startingPoint === index) {\r\n              return (\r\n                <div key={index}>\r\n                  <h4>{item.question}</h4>\r\n                  <ul>\r\n                    {item.allAnswers.map((item, index) => {\r\n                      return (\r\n                        <li key={index} onClick={(e) => handleClick(e)}>\r\n                          {item}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              );\r\n            }\r\n          })\r\n        ) : (\r\n          <div>\r\n            <button onClick={() => window.location.reload()}>play again</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Questions;\r\n","import \"./App.css\";\nimport Questions from \"./questions/questions\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Questions />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ContextBody } from \"./components/context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextBody>\n      <App />\n    </ContextBody>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}